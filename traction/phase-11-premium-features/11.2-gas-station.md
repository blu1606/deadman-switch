# 11.2 The Gas-Station Network (Premium)

> **Priority:** üî¥ **MUST HAVE** for Hackathon.
> **Killer USP:** "The Zero-Friction Delivery."

## ‚õΩ The Problem (UX Friction)
Recipient receives vault -> Connects new wallet (0 SOL) -> Checks in -> "Insufficient Funds".
**Result:** Grandma calls Support (You).

## üöè The Solution: Pre-paid Relay
Owner pre-pays gas. We relay the transaction. Recipient pays nothing.

### Mechanism (Hackathon Speedrun)

1.  **Creation (Smart Contract):**
    *   `initialize_vault` accepts optional `gas_deposit: u64` (e.g. 0.05 SOL).
    *   Store in `vault.gas_tank`.

2.  **Claiming (Frontend):**
    *   Detect `vault.gas_tank > 0`.
    *   **UI:** "‚ö° This is a Premium Vault. Gas fees are on us."
    *   **Action:** Instead of `provider.sendAndConfirm`, send signed instruction payload to API.

3.  **Relayer (Next.js API):**
    *   Endpoint: `/api/relay/claim`.
    *   Backend Wallet (Hot Wallet with SOL) receives payload.
    *   Sign as Payer -> Submit to network.
    *   *Note:* Backend pays gas upfront, but contract refunds it?
    
4.  **Refund Logic (Contract - CRITICAL):**
    *   In `trigger_release` / `claim_and_close`:
    *   Add: `**ctx.accounts.payer.to_account_info().try_borrow_mut_lamports()? += REFUND_AMOUNT;`
    *   `**ctx.accounts.vault.to_account_info().try_borrow_mut_lamports()? -= REFUND_AMOUNT;`
    
## üöÄ Why this wins the Hackathon
*   **Web2 Experience:** It feels like Magic Link / Gmail.
*   **Empathy:** "I made this easy for my wife."

## üõ†Ô∏è Implementation Specs (Ready to Code)
-   [ ] **Contract:** Add `gas_tank` update instructions.
-   [ ] **API:** `pages/api/relay.ts` using `@solana/web3.js` Keypair.
-   [ ] **Frontend:** Feature Flag `ENABLE_GASLESS_CLAIM`.
